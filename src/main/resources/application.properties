spring.application.name=api-gateway
server.port=8989

spring.cloud.gateway.discovery.locator.enabled=true
spring.cloud.gateway.discovery.locator.lower-case-service-id=true

# Global CORS configuration for Spring Cloud Gateway (WebFlux)
# Note: correct property prefix is spring.cloud.gateway.globalcors.*
spring.cloud.gateway.globalcors.add-to-simple-url-handler-mapping=true
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowed-origins=http://localhost:3000,http://127.0.0.1:3000
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowed-methods=GET,POST,PUT,DELETE,PATCH,OPTIONS
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowed-headers=*
spring.cloud.gateway.globalcors.cors-configurations.[/**].allow-credentials=true
spring.cloud.gateway.globalcors.cors-configurations.[/**].exposed-headers=*

spring.cache.type=caffeine

# Multipart configuration for file uploads (WebFlux)
spring.codec.max-in-memory-size=10MB
spring.cloud.gateway.httpclient.response-timeout=60000
spring.cloud.gateway.httpclient.connect-timeout=30000
spring.cloud.gateway.httpclient.pool.max-idle-time=PT15S
spring.cloud.gateway.httpclient.pool.max-life-time=PT60S

# SpringDoc OpenAPI Configuration for WebFlux
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operations-sorter=method
springdoc.swagger-ui.tags-sorter=alpha
springdoc.swagger-ui.doc-expansion=none
